<button (click)="toggleFilter()" [hidden]="!enableFiltering">Toggle</button>
<div class="datatable-container">
    <ngx-datatable class="material" 
    [rows]="rows" 
    [columns]="columns" 
    [headerHeight]="isFilterEnabled ? 60 : 35" 
    [rowHeight]="rowHeight"
    [columnMode]="'force'" 
    [loadingIndicator]="isLoading" 
    [externalPaging]="true" (scroll)="onScroll($event.offsetY)" (select)='onSelect($event)'
        [count]="total" [scrollbarV]="true" [selectionType]="'checkbox'" #table>
        <ngx-datatable-row-detail [rowHeight]="200" #myDetailRow>
            <ng-template let-row="row" let-expanded="expanded" ngx-datatable-row-detail-template>
                <div style="padding-left:35px;">
                    <ul>
                        <ng-container *ngFor="let column of columns">
                            <li *ngIf="column.name">
                                {{column.name}} : {{row[column.prop]}}
                            </li>
                        </ng-container>
                    </ul>
                </div>
            </ng-template>
        </ngx-datatable-row-detail>
    </ngx-datatable>

    <ng-template #detailTemplate let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
        <a href="javascript:void(0)" [class.datatable-icon-right]="!expanded" [class.datatable-icon-down]="expanded" title="Expand/Collapse Row"
            (click)="toggleExpandRow(row)">
        </a>
    </ng-template>

    <ng-template #select let-column="column" let-sort="sortFn" let-sortDir="sortDir">
        <div>
            <span class="column-header" (click)="sort()">{{column.name}}
            </span>
            <span class="sort-btn" [class.sort-asc]="sortDir === 'asc'" [class.datatable-icon-up]="sortDir === 'asc'" [class.sort-desc]="sortDir === 'desc'"
                [class.datatable-icon-down]="sortDir === 'desc'"></span>
        </div>
        <select (change)='updateFilter($event,column)'>
            <option value=""> -- </option>
            <option *ngFor="let item of rows  | unique : column.name" value="{{item[column.name]}}">{{item[column.name]}}</option>
        </select>
        <i [hidden]="filtered.length === temp.length " class="datatable-icon-close" style="cursor:pointer" (click)="clearFilter($event,column)"></i>
    </ng-template>
    <ng-template #input let-column="column" let-sort="sortFn" let-sortDir="sortDir">
        <div>
            <span class="column-header" (click)="sort()">{{column.name}}
            </span>
            <span class="sort-btn" [class.sort-asc]="sortDir === 'asc'" [class.datatable-icon-up]="sortDir === 'asc'" [class.sort-desc]="sortDir === 'desc'"
                [class.datatable-icon-down]="sortDir === 'desc'"></span>
        </div>
        <input type="text" autofocus (keyup)='updateFilter($event,column)'>
        <i [hidden]="filtered.length === temp.length " class="datatable-icon-close" style="cursor:pointer" (click)="clearFilter($event,column)"></i>
    </ng-template>

    <ng-template #checkboxCellTemplate ngx-datatable-cell-template let-value="value" let-isSelected="isSelected" let-onCheckboxChangeFn="onCheckboxChangeFn">
        <input type="checkbox" [checked]="isSelected" (change)="onCheckboxChangeFn($event)" />
    </ng-template>


</div>